/**
 * jQuery Form Validation
 * Copyright (C) 2015 RunningCoder.org
 * Licensed under the MIT license
 *
 * @author Tom Bertrand
 * @version 1.5.2 (2015-02-18)
 * @link http://www.runningcoder.org/jqueryvalidation/
 */
!function(window,document,$,undefined){function _buildRegexFromString(e){function t(){}if(!e||"string"!=typeof e&&!(e instanceof RegExp))return t(),!1;"string"!=typeof e&&(e=e.toString());for(var r,i,n,o=e.charAt(0),a=e.length-1;a>0&&/[gimsxeU]/.test(e.charAt(a));)a--;e.charAt(a)!==o&&(o=null),o&&a!==e.length-1&&(i=e.substr(a+1,e.length-1)),r=o?e.substr(1,a-1):e;try{n=new RegExp(r,i)}catch(s){return t(),!1}return n}window.Validation={form:[],labels:{},hasScrolled:!1},"function"!=typeof Object.preventExtensions&&(Object.preventExtensions=function(e){return e});var _rules={NOTEMPTY:/\S/,INTEGER:/^\d+$/,NUMERIC:/^\d+(?:[,\s]\d{3})*(?:\.\d+)?$/,MIXED:/^[\w\s-]+$/,NAME:/^['a-zãàáäâẽèéëêìíïîõòóöôùúüûñç\s-]+$/i,NOSPACE:/^(?!\s)\S*$/,TRIM:/^[^\s].*[^\s]$/,DATE:/^\d{4}-\d{2}-\d{2}(\s\d{2}:\d{2}(:\d{2})?)?$/,EMAIL:/^([^@]+?)@(([a-z0-9]-*)*[a-z0-9]+\.)+([a-z0-9]+)$/i,URL:/^(https?:\/\/)?((([a-z0-9]-*)*[a-z0-9]+\.?)*([a-z0-9]+))(\/[\w?=\.-]*)*$/,PHONE:/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/,OPTIONAL:/\S/,COMPARISON:/^\s*([LV])\s*([<>]=?|==|!=)\s*([^<>=!]+?)\s*$/},_messages={"default":"$ contain error(s).",NOTEMPTY:"$ must not be empty.",INTEGER:"$ must be an integer.",NUMERIC:"$ must be numeric.",MIXED:"$ must be letters or numbers (no special characters).",NAME:"$ must not contain special characters.",NOSPACE:"$ must not contain spaces.",TRIM:"$ must not start or end with space character.",DATE:"$ is not a valid with format YYYY-MM-DD.",EMAIL:"$ is not valid.",URL:"$ is not valid.",PHONE:"$ is not a valid phone number.","<":"$ must be less than % characters.","<=":"$ must be less or equal to % characters.",">":"$ must be greater than % characters.",">=":"$ must be greater or equal to % characters.","==":"$ must be equal to %","!=":"$ must be different than %"},_data={validation:"data-validation",validationMessage:"data-validation-message",regex:"data-validation-regex",regexReverse:"data-validation-regex-reverse",regexMessage:"data-validation-regex-message",group:"data-validation-group",label:"data-validation-label",errorList:"data-error-list"},_options={submit:{settings:{form:null,display:"inline",insertion:"append",allErrors:!1,trigger:"click",button:"[type='submit']",errorClass:"error",errorListClass:"error-list",inputContainer:null,clear:"focusin",scrollToError:!1},callback:{onInit:null,onValidate:null,onError:null,onBeforeSubmit:null,onSubmit:null,onAfterSubmit:null}},dynamic:{settings:{trigger:null,delay:300},callback:{onSuccess:null,onError:null,onComplete:null}},rules:{},messages:{},labels:{},debug:!1},_supported={submit:{settings:{display:["inline","block"],insertion:["append","prepend"],allErrors:[!0,!1],clear:["focusin","keypress",!1],trigger:["click","dblclick","focusout","hover","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","toggle"]}},dynamic:{settings:{trigger:["focusout","keydown","keypress","keyup"]}},debug:[!0,!1]},Validation=function(node,options){function extendRules(){options.rules=$.extend(!0,{},_rules,options.rules)}function extendMessages(){options.messages=$.extend(!0,{},_messages,options.messages)}function extendOptions(){options instanceof Object||(options={});var e=Object.preventExtensions($.extend(!0,{},_options));for(var t in options)if(options.hasOwnProperty(t)&&"debug"!==t)if(~["labels","messages","rules"].indexOf(t)&&options[t]instanceof Object)e[t]=options[t];else if(_options[t]&&options[t]instanceof Object)for(var r in options[t])if(options[t].hasOwnProperty(r)&&_options[t][r]&&options[t][r]instanceof Object){for(var i in options[t][r])options[t][r].hasOwnProperty(i)&&_supported[t]&&_supported[t][r]&&_supported[t][r][i]&&-1===$.inArray(options[t][r][i],_supported[t][r][i])&&delete options[t][r][i];e[t]&&e[t][r]&&(e[t][r]=$.extend(Object.preventExtensions(e[t][r]),options[t][r]))}e.dynamic.settings.trigger&&"keypress"===e.dynamic.settings.trigger&&"keypress"===e.submit.settings.clear&&(e.dynamic.settings.trigger="keydown"),options=e}function delegateDynamicValidation(){if(!options.dynamic.settings.trigger)return!1;if(!node.find("["+_data.validation+"],["+_data.regex+"]")[0])return!1;var e=options.dynamic.settings.trigger+delegateSuffix;"focusout"!==options.dynamic.settings.trigger&&(e+=" change"+delegateSuffix+" paste"+delegateSuffix),$.each(node.find("["+_data.validation+"],["+_data.regex+"]"),function(t,r){$(r).unbind(e).on(e,function(e){if($(this).is(":disabled"))return!1;var t=this,r=e.keyCode||null;_typeWatch(function(){validateInput(t)?_executeCallback(options.dynamic.callback.onSuccess,[node,t,r]):(displayOneError(t.name),_executeCallback(options.dynamic.callback.onError,[node,t,r,errors[t.name]])),_executeCallback(options.dynamic.callback.onComplete,[node,t,r])},options.dynamic.settings.delay)})})}function delegateValidation(){_executeCallback(options.submit.callback.onInit,[node]);var e=options.submit.settings.trigger+".vd";return node.find(options.submit.settings.button)[0]?(node.on("submit",!1),void node.find(options.submit.settings.button).off(".vd").on(e,function(e){return e.preventDefault(),resetErrors(),_executeCallback(options.submit.callback.onValidate,[node]),validateForm()?(_executeCallback(options.submit.callback.onBeforeSubmit,[node]),options.submit.callback.onSubmit?_executeCallback(options.submit.callback.onSubmit,[node]):submitForm(),_executeCallback(options.submit.callback.onAfterSubmit,[node])):(_executeCallback(options.submit.callback.onError,[node,errors]),displayErrors()),!1})):!1}function validateForm(){var e=!0;return $.each(node.find("["+_data.validation+"]:not([disabled],[readonly]),["+_data.regex+"]:not([disabled],[readonly])"),function(t,r){validateInput(r)||(e=!1)}),e}function validateInput(e){var t=$(e).attr("name");if(!t)return!1;var r=_getInputValue(e),i=t.replace(/]$/,"").split(/]\[|[[\]]/g),n=window.Validation.labels[t]||options.labels[t]||$(e).attr(_data.label)||i[i.length-1],o=$(e).attr(_data.validation),a=$(e).attr(_data.validationMessage),s=$(e).attr(_data.regex),l=!($(e).attr(_data.regexReverse)===undefined),d=$(e).attr(_data.regexMessage),u=!1;if(o&&(o=_api._splitValidation(o)),o instanceof Array&&o.length>0){if(""===r&&~o.indexOf("OPTIONAL"))return!0;$.each(o,function(e,i){if(u===!0)return!0;try{validateRule(r,i)}catch(o){(a||!options.submit.settings.allErrors)&&(u=!0),o[0]=a||o[0],registerError(t,o[0].replace("$",n).replace("%",o[1]))}})}if(s){var c=_buildRegexFromString(s);if(!(c instanceof RegExp))return!0;try{validateRule(r,c,l)}catch(p){p[0]=d||p[0],registerError(t,p[0].replace("$",n))}}return!errors[t]||errors[t]instanceof Array&&0===errors[t].length}function validateRule(value,rule,reversed){if(rule instanceof RegExp){var isValid=rule.test(value);if(reversed&&(isValid=!isValid),!isValid)throw[options.messages["default"],""]}else if(options.rules[rule]){if(!options.rules[rule].test(value))throw[options.messages[rule],""]}else{var comparison=rule.match(options.rules.COMPARISON);if(comparison&&4===comparison.length){var type=comparison[1],operator=comparison[2],compared=comparison[3],comparedValue;switch(type){case"L":if(isNaN(compared))return!1;if(!value||eval(value.length+operator+parseFloat(compared))===!1)throw[options.messages[operator],compared];break;case"V":default:if(isNaN(compared)){if(comparedValue=node.find('[name="'+compared+'"]').val(),!comparedValue)return!1;if(!value||!eval('"'+encodeURIComponent(value)+'"'+operator+'"'+encodeURIComponent(comparedValue)+'"'))throw[options.messages[operator].replace(" characters",""),compared]}else if(!value||isNaN(value)||!eval(value+operator+parseFloat(compared)))throw[options.messages[operator].replace(" characters",""),compared]}}}}function registerError(e,t){errors[e]||(errors[e]=[]),t=t.capitalize();for(var r=!1,i=0;i<errors[e].length;i++)if(errors[e][i]===t){r=!0;break}r||errors[e].push(t)}function displayOneError(e){var t,r,i,n,o,a,s='<div class="'+options.submit.settings.errorListClass+'" '+_data.errorList+"><ul></ul></div>";if(!errors.hasOwnProperty(e))return!1;if(t=node.find('[name="'+e+'"]'),n=null,!t[0])return!1;if(o=t.attr(_data.group),o?(a=node.find('[name="'+e+'"]'),n=node.find('[id="'+o+'"]'),n[0]&&(n.addClass(options.submit.settings.errorClass),i=n)):(t.addClass(options.submit.settings.errorClass),options.submit.settings.inputContainer&&t.parentsUntil(node,options.submit.settings.inputContainer).addClass(options.submit.settings.errorClass),r=t.attr("id"),r&&(n=node.find('label[for="'+r+'"]')[0]),n||(n=t.parentsUntil(node,"label")[0]),n&&(n=$(n),n.addClass(options.submit.settings.errorClass))),"inline"===options.submit.settings.display?i=i||t.parent():"block"===options.submit.settings.display&&(i=node),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]")[0])return!1;("inline"===options.submit.settings.display||"block"===options.submit.settings.display&&!i.find("["+_data.errorList+"]")[0])&&("append"===options.submit.settings.insertion?i.append(s):"prepend"===options.submit.settings.insertion&&i.prepend(s));for(var l=0;l<errors[e].length;l++)i.find("ul").append("<li>"+errors[e][l]+"</li>");if(options.submit.settings.clear||options.dynamic.settings.trigger){o&&a&&(t=a);var d="coucou"+resetSuffix;options.submit.settings.clear&&(d+=" "+options.submit.settings.clear+resetSuffix),options.dynamic.settings.trigger&&(d+=" "+options.dynamic.settings.trigger+resetSuffix,"focusout"!==options.dynamic.settings.trigger&&(d+=" change"+resetSuffix+" paste"+resetSuffix)),t.unbind(d).on(d,function(e,t,r,i,n){return function(){n?$(r).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,r,i,n):$(t).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,r,i)}}(e,t,n,i,o))}if(options.submit.settings.scrollToError&&!window.Validation.hasScrolled){window.Validation.hasScrolled=!0;var u=parseFloat(options.submit.settings.scrollToError.offset)||0,c=parseFloat(options.submit.settings.scrollToError.duration)||500,p="block"===options.submit.settings.display?i:t;$("html, body").animate({scrollTop:p.offset().top+u},c)}}function displayErrors(){for(var e in errors)errors.hasOwnProperty(e)&&displayOneError(e)}function resetOneError(e,t,r,i,n){if(delete errors[e],i)options.submit.settings.inputContainer&&(n?r:t).parentsUntil(node,options.submit.settings.inputContainer).removeClass(options.submit.settings.errorClass),r&&r.removeClass(options.submit.settings.errorClass),t.removeClass(options.submit.settings.errorClass),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]").remove();else{if(!t&&(t=node.find('[name="'+e+'"]'),!t[0]))return!1;t.trigger("coucou"+resetSuffix)}}function resetErrors(){errors=[],window.Validation.hasScrolled=!1,node.find("["+_data.errorList+"]").remove(),node.find("."+options.submit.settings.errorClass).removeClass(options.submit.settings.errorClass)}function submitForm(){node[0].submit()}function destroy(){return resetErrors(),node.find("["+_data.validation+"],["+_data.regex+"]").off(delegateSuffix+" "+resetSuffix),node.find(options.submit.settings.button).off(delegateSuffix).on("click"+delegateSuffix,function(){$(this).closest("form")[0].submit()}),!0}var errors=[],messages={},delegateSuffix=".vd",resetSuffix=".vr";window.Validation.hasScrolled=!1;var _getInputValue=function(e){var t;switch($(e).attr("type")){case"checkbox":t=$(e).is(":checked")?1:"";break;case"radio":t=node.find('input[name="'+$(e).attr("name")+'"]:checked').val()||"";break;default:t=$(e).val()}return t},_typeWatch=function(){var e=0;return function(t,r){clearTimeout(e),e=setTimeout(t,r)}}(),_executeCallback=function(e,t){if(!e)return!1;var r;if("function"==typeof e)r=e;else if("string"==typeof e||e instanceof Array){r=window,"string"==typeof e&&(e=[e,[]]);for(var i=e[0].split("."),n=e[1],o=!0,a=0;a<i.length;){if("undefined"==typeof r){o=!1;break}r=r[i[a++]]}if(!o||"function"!=typeof r)return!1}return r.apply(this,$.merge(n||[],t?t:[])),!0};return this.__construct=function(){extendOptions(),extendRules(),extendMessages(),delegateDynamicValidation(),delegateValidation()}(),{registerError:registerError,displayOneError:displayOneError,displayErrors:displayErrors,resetOneError:resetOneError,resetErrors:resetErrors,destroy:destroy}};$.fn.validate=$.validate=function(e){return _api.validate(this,e)},$.fn.addValidation=function(e){return _api.addValidation(this,e)},$.fn.removeValidation=function(e){return _api.removeValidation(this,e)},$.fn.addError=function(e){return _api.addError(this,e)},$.fn.removeError=function(e){return _api.removeError(this,e)},$.fn.alterValidationRules=$.alterValidationRules=function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++)_api.alterValidationRules(e[t])};var _api={_formatValidation:function(e){return e=e.toString().replace(/\s/g,""),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)&&(e=e.replace(/^\[|\]$/g,"")),e},_splitValidation:function(e){for(var t,r=this._formatValidation(e).split(","),i=0;i<r.length;i++)t=r[i],/^[a-z]+$/i.test(t)&&(r[i]=t.toUpperCase());return r},_joinValidation:function(e){return"["+e.join(", ")+"]"},validate:function(e,t){if("function"==typeof e){if(!t.submit.settings.form)return;if(e=$(t.submit.settings.form),!e[0]||"form"!==e[0].nodeName.toLowerCase())return}else if("undefined"==typeof e[0])return;if("destroy"===t){if(!window.Validation.form[e.selector])return;return void window.Validation.form[e.selector].destroy()}return e.each(function(){window.Validation.form[e.selector]=new Validation($(this),t)})},addValidation:function(e,t){var r=this;return t=r._splitValidation(t),t?e.each(function(){for(var e,i=$(this),n=i.attr(_data.validation),o=n&&n.length?r._splitValidation(n):[],a=0;a<t.length;a++)e=r._formatValidation(t[a]),-1===$.inArray(e,o)&&o.push(e);o.length&&i.attr(_data.validation,r._joinValidation(o))}):!1},removeValidation:function(e,t){var r=this;return t=r._splitValidation(t),t?e.each(function(){var e,i,n=$(this),o=n.attr(_data.validation),a=o&&o.length?r._splitValidation(o):[];if(!a.length)return n.removeAttr(_data.validation),!0;for(var s=0;s<t.length;s++)e=r._formatValidation(t[s]),i=$.inArray(e,a),-1!==i&&a.splice(i,1);return a.length?void n.attr(_data.validation,r._joinValidation(a)):(n.removeAttr(_data.validation),!0)}):!1},addError:function(e,t){if(!window.Validation.form[e.selector])return!1;if("object"!=typeof t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var r,i=!0;for(var n in t)if(t.hasOwnProperty(n)&&(t[n]instanceof Array||(t[n]=[t[n]]),r=$(e.selector).find('[name="'+n+'"]'),r[0])){i&&(window.Validation.hasScrolled=!1,i=!1),window.Validation.form[e.selector].resetOneError(n,r);for(var o=0;o<t[n].length;o++)"string"==typeof t[n][o]&&window.Validation.form[e.selector].registerError(n,t[n][o]);window.Validation.form[e.selector].displayOneError(n)}},removeError:function(e,t){if(!window.Validation.form[e.selector])return!1;if(!t)return window.Validation.form[e.selector].resetErrors(),!1;if("object"==typeof t&&"[object Array]"!==Object.prototype.toString.call(t))return!1;t instanceof Array||(t=[t]);for(var r,i=0;i<t.length;i++)r=$(e.selector).find('[name="'+t[i]+'"]'),r[0]&&window.Validation.form[e.selector].resetOneError(t[i],r)},alterValidationRules:function(e){if(!e.rule||!e.regex&&!e.message)return!1;if(e.rule=e.rule.toUpperCase(),e.regex){var t=_buildRegexFromString(e.regex);if(!(t instanceof RegExp))return!1;_rules[e.rule]=t}return e.message&&(_messages[e.rule]=e.message),!0}};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=t);t>r;r++)if(r in this&&this[r]===e)return r;return-1})}(window,document,window.jQuery);